!function(){function e(e){var t=document.getElementById(e),n=document.createRange();n.selectNodeContents(t);var i=window.getSelection();i.removeAllRanges(),i.addRange(n)}var t=function(e,t,n){var n=n||{},i={},o=function(e){!!i[e.selectorText]==!1&&(i[e.selectorText]={});var t=e.style.cssText.split(/;(?![A-Za-z0-9])/);t.forEach(function(t){if(!!t!=!1){var n=t.split(": ");n[0]=n[0].trim(),n[1]=n[1].trim(),i[e.selectorText][n[0]]=n[1]}})},c=function(){for(var i=e.innerHeight,c=t.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,function(e){return NodeFilter.FILTER_ACCEPT},!0);c.nextNode();){var a=c.currentNode,r=a.getBoundingClientRect();if(r.top<i||n.scanFullPage){var l=e.getMatchedCSSRules(a);if(l)for(var u=0;u<l.length;u++)o(l[u])}}};this.generate=function(){var e="";for(var t in i){e+=t+"{";for(var n in i[t])e+=n+":"+i[t][n]+";";e+="}"}return e},c()};document.body.scrollTop=0;var n=new t(window,document),i=n.generate(),o=document.createElement("div");o.id="CriticalSnap";var c="<div><h1>Critical Snapshot</h1>";c+='<p id="CriticalSnap__output-css">'+i+"</p>",c+='<div id="CriticalSnap__buttons"><button type="button" class="CriticalSnap__button" id="CriticalSnap__copy">Copy</button>',c+='<button type="button" class="CriticalSnap__button" id="CriticalSnap__preview">Preview</button>',c+='<button type="button" class="CriticalSnap__button" id="CriticalSnap__close">Close</button></div>',c+="</div>",o.innerHTML=c,document.body.appendChild(o);var a=function(t){t.preventDefault(),t.stopPropagation(),e("CriticalSnap__output-css"),document.execCommand("copy"),s.style.backgroundColor="#34A853",s.style.color="#fff",s.innerHTML="Copied <span>üëç</span>"},r=function(e){e.preventDefault(),e.stopPropagation();const t=[].slice.call(document.querySelectorAll('[type="text/css"]'));t.forEach(function(e){e.remove()});const n=[].slice.call(document.getElementsByTagName("style"));n.forEach(function(e){e.remove()});var o=document.createElement("style");o.innerHTML=i,document.getElementsByTagName("head")[0].appendChild(o),p.removeEventListener("click",r),p.remove(),d()},l=function(t){t.preventDefault(),t.stopPropagation(),e("CriticalSnap__output-css")},u=function(e){e&&e.preventDefault(),f()},d=function(){o.className="CriticalSnap__minified"},s=document.getElementById("CriticalSnap__copy"),p=document.getElementById("CriticalSnap__preview"),v=document.getElementById("CriticalSnap__output-css"),m=document.getElementById("CriticalSnap");s.addEventListener("click",a),p.addEventListener("click",r),v.addEventListener("click",l),m.addEventListener("click",u);var f=function(){s.removeEventListener("click",a),p.removeEventListener("click",r),v.removeEventListener("click",l),m.removeEventListener("click",u),o.remove()}}();
